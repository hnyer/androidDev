# SDK开发
## sdk加密方案

方案名字|缺点 |优点
-|-
代码混淆|1、有些类不能混淆（例如工具类，自定义控件等，如果被混淆了用户就不方便调用），所以对代码架构要求比较高。<br>2、混淆后的代码虽然不易识别了，但是仔细分析还是能看懂的。|
修改class的字段||某些字段对运行没有影响，但是能导致别人无法反编译。
自定义类加载器ClassLoader|ClassLoader容易被攻破|
jvmti|不适用于Android平台？（我暂时还未测试成功）|


## 经验之谈
原文 http://blog.csdn.net/dd864140130 有删减。

```text
//SDK实现目标
1、简洁易用
SDK不应该对宿主应用有过多的代码侵入,也不应该有复杂频繁的接入工作。
当我们需要使用该 SD K的服务时,通过一行代码便可启用 Ad.init(this,params)

2、稳定
① SDK的API一旦确定,如无非常严重情况不可更改。
②、必须确保SDK自身运行的稳定,并且保证接入方不会因为我们的SDK产生不稳定。
③、不能频繁更新迭代。防止增加用户负担。

//SDK整体架构设计
模块化开发
根据单一职责将系统拆分为不同的小模块，每个模块保持相对独立。
模块之间通过协议或接口通信，以减少相互之间的依赖耦合。

为了安全起见, 核心逻辑应该采用NDK开发。
   
//API版本管理
原则上SDK API一旦公开发布后，应为不可变。
对于特殊情况下API的变更,需要遵守”开闭原则”:
1、在需要调整SDK API时,优先选择添加新方法,而不是在原方法上修改 。
2、在需要废除某些方法时,需要在正式版发版前使用 @deprecated 标识,并标明开始废弃的版本。
```


