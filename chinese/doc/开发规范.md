# 开发规范
## Android开发规范
[阿里巴巴Android开发规范 1.0.0](https://edu.aliyun.com/course/813)


类型 | 规范 | 示例
-|-|
资源文件|需带模块前缀|
layout文件|-|Activity 的 layout以 module_activity开头<br>Fragment 的 layout 以 module_fragment 开头<br>Dialog   的 layout 以 module_dialog 开头<br>include  的 layout 以 module_include 开头<br>ListView 的 item layout 以 module_list_item 开头<br>GridView 的 item layout 以 module_grid_item 开头<br>RecyclerView 的 item layout 以 module_recycle_item 开头<br>
drawable 资源|小写单词+下划线|module_tabs_icon_home_normal <br>module_login_btn_pressed
anim 资源|-|module_fade_out <br> module_push_down_in
color 资源|module_colors.xml |《color name="module_btn_bg_color">#33b5e5e5</color》
dimen 资源|module_dimens.xml |《dimen name="module_horizontal_line_height">1dp</dimen》
style 资源|module_styles.xml| 《style name="ParentTheme.ThisActivityTheme"》
string 资源|module_strings.xml|moudule_login_tips <br> module_homepage_notice_desc
控件Id 资源|驼峰法命名 <br>View 的缩写作为前缀|LinearLayout&nbsp;&nbsp;ll <br>RelativeLayoutnbsp&nbsp;&nbsp;	rl<br>ConstraintLayout&nbsp;&nbsp;	cl<br>ListView&nbsp;&nbsp;	lv<br>ScollView	&nbsp;&nbsp;sv<br>TextView&nbsp;&nbsp;	tv<br>Button&nbsp;&nbsp;	btn<br>ImageView&nbsp;&nbsp;	iv<br>CheckBox	&nbsp;&nbsp;cb<br>RadioButton&nbsp;&nbsp;	rb<br>EditText&nbsp;&nbsp;	et <br> //其它控件<br>ProgressBar &nbsp;&nbsp; progress_bar<br> DatePicker &nbsp;&nbsp; date_picker


## Java 开发规范
[阿里巴巴编码规范Java 1.3.1](https://edu.aliyun.com/course/417/lesson/list?spm=5176.8764728.aliyun-edu-course-tab.2.Fx6l4R&previewAs=guest)

类型 | 规范 | 示例
-|-|
资源文件|需带模块前缀|
|不能以下划线或美元符号开始、结束  |_name <br> Object$
|严禁拼音与英文混合<br>严禁直接使用中文|
类名|使用UpperCamelCase风格|TcpUdpDeal <br>   DO 、 DTO 、VO 、 DAO等例外
方法名<br>参数名<br>成员变量<br>局部变量|使用lowerCamelCase风格|getHttpMessage()
常量|全部大写、用下划线隔开、语义表达完整<br> 不允许任何魔法值 <br> 按模块分开放在不同文件中|MAX_STOCK_COUNT <br> CacheConsts.java  <br>ConfigConsts.java
抽象类命名|Abstract 或 Base 开头|
异常类命名|用Exception结尾|
测试类命名|以它要测试的类名开始，以Test结尾|
包名|统小写、统一使用单数形式|com.alibaba.ai.util √ <br>com.alibaba.ai.utils ×
接口类|方法和属性不要加任何修饰符号（包括public） | void f(); √ <br> void f(); ×
枚举|类名带Enum后缀、成员名全大写、用下划线隔开 <br> 若变量值仅在一个固定范围内变化，请用枚举|UNKNOWN_REASON
大括号|若大括号内为空，则写成{} <br> 若非空，则左大括号前不换行(不要学c代码的风格)|
小括号|小括号和字符之间不出现空格| if (空格a == b空格)  ×
equals方法||"test".equals(object); √ <br> object.equals("test"); ×
构造方法|禁止写任何业务逻辑|
POJO类<br>(没有业务逻辑的类)|必须写toString方法，为了方便排除异常|
字符串拼接|使用 StringBuilder|
final |不允许被继承的类 <br>不允许修改的方法、变量 | 并不会影响内存的回收
单例对象、工具类|需要保证线程安全|
if else  <br>for <br>while |必须使用大括号|if (condition) statements ×
if()...else|请勿超过3层|
终止、退出|高并发场景，禁止使用 “==”作为终止条件|并发处理错误会导致数量瞬间变成负数 而无法终止
条件判断|禁止执行复杂语句|if ((...) != null) && (...) &&(...)) ×
TODO||
FIXME|代表 “错误，不能工作”|


## 亚信 xx系统编写规范
```text
long或者Long初始赋值时，必须使用大写的L，
不能是小写的l，小写容易跟数字1混淆，造成误解。

不能使用过时的类或方法。 
例如 java.net.URLDecoder 中的方法 decode(String encodeStr) 这个方法已经过时，
应该使用双参数 decode(String source, String encode)。
接口提供方既然明确是过时接口，那么有义务同时提供新的接口；
作为调用方来说，有义务去考证过时方法的新实现是什么。

异常不要用来做流程控制，条件控制，因为异常的处理效率比条件分支低。
对大段代码进行 try-catch，这是不负责任的表现。
捕获异常是为了处理它，不要捕获了却什么都不处理而抛弃之，如果不想处理它，请将该异常抛给它的调用者。
异常信息应该包括两类信息：案发现场信息和异常堆栈信息。
如果不处理，那么往上抛。 
```


## 代码质量 控制
### 导致 代码质量问题 的原因
```text
1、新手 ，经验和能力不足
2、人员的调动和更换，导致对业务的理解有偏差
3、没有一个约定的 代码规范 ，导致沟通和维护困难
```

### 如何保证代码质量
```text
1、架构师搭建、设置 合理优秀的基础框架。
2、要求 开发者 单元测试、代码自测。bug率跟绩效挂钩。

3、代码 评审、复查、 review 
代码提交后，由其他人 一般是水平更高的人来评审代码，
评审点可以放在 代码是否符合约定的代码规范、 设计思路和逻辑、性能 ，
必要时要进行重构，实行老人带动新人成长 
一般而言， 采用 以小组为单位，组长责任制的代码复查形式。
小组长不要分配太多的开发任务，而是以指导设计、评审代码为主。

4、定期开总结大会，做分享，团队成员能力共同提高 
```

## 技术选型
```text
首先要确保一点：技术选型是稳定压倒一切、先验证后使用。
不稳定的技术或框架，在后期会带来很多的麻烦，

此项技术是否要被采纳，可以考虑以下因素
1、该技术是否成熟，是否已经被广泛应用和验证过。
一些技术随着开发版本的推进，API会大幅改变，甚至不再维护旧版本，导致旧版本中的BUG无人修复，逼迫你升级。
新技术可能会有很多未知的BUG，如果你深度使用后遇到一个Bug，你自己无法解决 也没人解决过，你会非常难受。
还有一些新技术可能会影响你的APP上架。

2、该技术是谁发起和主持的，权威性如何，后续更新如何，是否有版权风险。
可能会有一些技术精英会开源一个框架，但是并没有形成一个好的社区来维护，后期可能导致项目更新缓慢，甚至停更。
有些可能会慢慢地演化成开源版和收费版，你想要的功能只在收费版中提供。影响你的预算。

3、该技术的复杂性如何、学习成本 、以后替换的成本如何。
在一些工期比较紧的项目中，如果采用新技术，因为团队成员需要学习成本，可能无法把控开发进度。

4、使用该技术是否带来过多的冗余模块，对程序的健壮性是否有影响。
例如一些工具类想做得大且全，但是你引入它只是为了使用它的一个小模块，此时要好好考虑和验证下。
如果出现 依赖冲突、安装包增大等问题，你又对该技术不太熟悉，无法进行优化和排查，
会给项目带来很多不稳定因素。

5、对技术进行考虑时不仅仅要看到它的优点，更要看到它的不足点，改技术在宣传时，它一般是对缺点避而不谈的，
所以你要留心并验证。
```

## 如何 提高 线上代码 质量
```text
1、上线前先做好本地测试，加入 bugly等获取异常信息，以便排查修复
2、支持热更新 ，无感知修复小bug
3、全局异常捕捉，防止APP崩溃。
```



 