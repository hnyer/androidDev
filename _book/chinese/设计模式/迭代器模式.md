# 迭代器模式 Iterator Pattern 、游标模式


迭代器模式 提供一种机制 遍历一个聚合对象中的各个元素，而又不暴露其他细节。<br>


```java  
/**具体迭代器*/
class ConcreteIterator implements MyIterator{  
    private List  list = new ArrayList ();  
    private int cursor =0;  

    public ConcreteIterator(List list){  
        this.list = list;  
    }  

	public boolean hasNext(){
		return !(cursor == list.size());
	}

    public Object next(){  
        if(hasNext()){  
           return list.get(cursor++);  
        }  
        return null;  
    }  
}


/**具体的聚合类*/
class ConcreteAggregate {  
    private List  list = new ArrayList();  

    public MyIterator iterator(){  
        return new ConcreteIterator(list);  
    }  

    /**
     * 聚合类中的其他方法 ，处理其他逻辑
     * fun1 、saveObj 、removeObj
     */
    public void saveObj(Object obj)
    { ...  }
     ... 其他逻辑...
}

//使用
// 聚合类
ConcreteAggregate ag = new ConcreteAggregate();  
ag.saveObj("obj1");  
ag.saveObj("obj2");  

// 获取迭代器
MyIterator it = ag.iterator();  
//根据迭代器 遍历
while(it.hasNext()){ ...  }
```


#### 优点
1、将聚合类 的 “数据存储” 和 "数据遍历" 分离 。<br>
2、自定义的迭代器可以实现一些自己想要的遍历效果（逆序遍历、只遍历符合自己指定条件的对象等）。

#### 缺点
1、一个具体的聚合类 对应一个 迭代器 ，略显繁琐。<br>


#### 注
由于java已经为我们对容器对象（Collection，List、Set、Map等）做了很好的封装，我们平时其实很少会自己实现迭代器模式。
