# 模板模式 、模板方法模式 、Template Method Pattern

模板方法使得子类可以在不改变算法结构的情况下，重新定义算法中的某些步骤。

为防止恶意操作，一般模板方法都加上 final 防篡改。


### [示例](https://github.com/simple-android-framework/android_design_patterns_analysis/tree/master/template-method/mr.simple)


```java
/**抽象类*/
public abstract class AbstractComputer
{
    /**开机*/
    protected void powerOn()
     { ...  }

    /**常规硬件检查*/
    protected void checkHardware()
    { ...}

    /**加载 操作系统*/
    protected void loadOS()
    { ...}

    /**默认无密码验证，直接进入系统*/
    protected void login()
     { ... }

    /**
    * 模板方法，用 final修饰，防止被篡改 算法流程。
    */
    public final void startUp()
    {
        //公共方法
        powerOn();
        //有差异性的方法
        checkHardware();
        //公共方法
        loadOS();
        //有差异性的方法
        login();
    }
}

```

```java
// 程序员的电脑  
CoderComputer extends AbstractComputer...
@Override
 protected void login()
 {
   // 验证用户名和密码
 }

 //军用计算机
 class MilitaryComputer extends AbstractComputer...
 @Override
protected void checkHardware()
{
  //进行 硬件防火墙 等安全设备是否正常
  ...
}

@Override
protected void login()
{
  //验证 指纹 、 用户名、密码等
}
```


#### AsyncTask 应用 模板方法
```java
@MainThread
public final AsyncTask<Params, Progress, Result> execute(Params... params)
{
    return executeOnExecutor(sDefaultExecutor, params);
}


@MainThread
public final AsyncTask<Params, Progress, Result> executeOnExecutor(
Executor exec, Params... params)
{
    ...
    onPreExecute();
    ...
    exec.execute(mFuture);
    return this;
}
```
