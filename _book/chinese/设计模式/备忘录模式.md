# 备忘录模式  Memento Pattern  、快照模式
在不破坏封闭的前提下，保存对象当前状态，并且在需要的时候可以再次恢复到此状态。<br>
数据库的 回滚操作、编辑器的 Ctrl+Z恢复 都有用到 备忘录模式。<br>

##### 如何理解“不破坏封闭的前提”
发起者只提供有限的接口（保存、恢复数据）。不暴露其他不该暴露的信息。


#### 缺点
消耗资源。

```java
/**发起者*/
public class Game
{
    /**游戏开始时间*/
    private int time;
    /**游戏人头数*/
    private int killPeople;

    /** 将信息保存到备忘录*/
    public GameInfo saveGameInfo()
    {
      ...
      GameInfo gameInfo= new GameInfo(time, killPeople);
      return gameInfo;
    }

    /**
     *  根据备忘录 恢复 信息 。
     */
    public void loadGame(GameInfo gameInfo)
    {
        ...
        time = gameInfo.getTime();
        killPeople = gameInfo.getKillPeople();
        ...
    }
}

/**备忘录角色 ,保存指定的状态信息*/
public class GameInfo
{
    private int time;
    private int killPeople;
    public GameInfo(int time, int killPeople)
    { ...  }
}

//使用
Game dota = new Game();
// 将状态保存到备忘录中
GameInfo info = dota.saveGameInfo();
// 根据备忘录 恢复数据
dota.loadGame(info);
```
