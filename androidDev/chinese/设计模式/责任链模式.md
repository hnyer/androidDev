# 责任链模式 Chain of Responsibility Pattern

其实 ，swith 、if-else 体现了最简单的责任链思想 。只是这种写法 比较臃肿、耦合度高。


#### 优点
1、一个请求沿着一条“链”传递，申请者不需要知道是谁来批准这个请求。 批阅者也不需要这个请求来自谁。 这样将 申请者和批阅者优雅地解耦了。

2、容易拓展责任链



#### 缺点

1、需要对链中责任人的遍历，如果责任人太多那么遍历必定会影响性能。

2、请求不一定会被处理掉。


#### [代码示例](https://github.com/simple-android-framework/android_design_patterns_analysis/tree/master/chain-of-responsibility/AigeStudio)

```java
/**责任人的处理方法*/
public void handleRequest(ProgramApe ape)
{

	if ( 有处理权限)
  {
		// 自己处理掉...

	} else {
		if (null != mSuperiorLeader) {
		   //如果自己没有权限处理， 就交给上级处理
		} else {
		  //如果自己没有权限处理， 也没有其他领导。就抛出错误，提示该
      //请求没有被处理掉
		}
	}
}

```





```java
//应用场景

//先来一个程序猿 这里给他一个三万以内的随机值表示需要申请的差旅费
ProgramApe ape = new ProgramApe((int) (Math.random() * 30000));
//再来四个领导
Leader leader = new GroupLeader();
Leader director = new Director();
Leader manager = new Manager();
Leader boss = new Boss();
//事先设置好 责任链之间的连接关系
leader.setLeader(director);
director.setLeader(manager);
manager.setLeader(boss);
// 提交申请（不用写 if else 繁琐代码）
leader.handleRequest(ape);
```
